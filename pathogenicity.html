<script>
  const SPACE_URL = "https://rajaatif786-vhbert.hf.space";

  async function runInference() {
    const seq = document.getElementById('dnaInput').value.trim();
    if (!seq) {
      alert("Please enter a DNA sequence.");
      return;
    }

    document.getElementById('output').innerText = "Running inferenceâ€¦";

    try {
      const response = await fetch(`${SPACE_URL}/run/predict`, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ data: [seq] })
      });

      if (!response.ok) {
        document.getElementById('output').innerText = `Error: ${response.status}`;
        return;
      }

      const result = await response.json();
      document.getElementById('output').innerText = JSON.stringify(result.data, null, 2);

    } catch (err) {
      document.getElementById('output').innerText = `Fetch error: ${err}`;
    }
  }

  document.getElementById('runBtn').addEventListener('click', runInference);
</script>
